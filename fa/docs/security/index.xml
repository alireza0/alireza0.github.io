<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Alireza's Docs – نکات امنیتی</title><link>/fa/docs/security/</link><description>Recent content in نکات امنیتی on Alireza's Docs</description><generator>Hugo -- gohugo.io</generator><language>fa</language><atom:link href="/fa/docs/security/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: اتصال به پنل</title><link>/fa/docs/security/https/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/fa/docs/security/https/</guid><description>
&lt;p>در نظر داشته باشید ارتباط شما با پنل در صورت عدم استفاده از گواهی دیجیتال (HTTPS)، توسط فیلترچی و حتی MITM ها قابل رویت است.
بعد از نصب سرور و قبل از تنظیم و ارسال هرگونه اطلاعات حساس به سرور، حتما از اینکه ارتباط شما با سرور امن است مطمئن شوید.&lt;/p>
&lt;h3 id="نمونه-راه-های-امن-سازی">نمونه راه های امن سازی&lt;/h3>
&lt;ol>
&lt;li>استفاده از گواهی دیجیتال در تنظیمات سرور&lt;/li>
&lt;li>استفاده از نرم افزار های پراکسی مانند nginx&lt;/li>
&lt;li>استفاده از پراکسی های ابری مانند کلادفلر&lt;/li>
&lt;li>استفاده از ssh tunnel برای باز کردن پنل&lt;/li>
&lt;/ol></description></item><item><title>Docs: فایروال</title><link>/fa/docs/security/iptables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/fa/docs/security/iptables/</guid><description>
&lt;h2 id="چرا-فایروال-سیستم-مهم-است">چرا فایروال سیستم مهم است&lt;/h2>
&lt;p>ربات ها برای اینکه سرور ارائه دهنده خدمات v2ray را شناسایی کنند، روشهای متعددی را استفاده میکنند.
یکی از این روش ها شبیه سازی اتصال با پروتکل های v2ray و ارزیابی جواب آنهاست.
در اکثر مواقع این عملیات توسط رباتهایی با آدرس IP های شرکت ارتباطات زیرساخت انجام میشود. به همین دلیل بهتر است این آدرس ها شناسایی و بلاک شوند.&lt;/p>
&lt;p>لیست آدرس ها را میتوانید از منابع زیر پیدا کنید:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;a href="https://bgp.he.net/AS49666#_prefixes">bgp.he.net report&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://stat-ui.stat.ripe.net/data/announced-prefixes/data.json?data_overload_limit=ignore&amp;amp;resource=AS49666&amp;amp;starttime=1694525594&amp;amp;min_peers_seeing=10">ripe ncc api query&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>در مواردی این موضوع توسط رباتهایی از سایر نقاط هم دیده شده که در واقع این عملیات برای پیدا کردن آنها مناسب نیست.&lt;/p>
&lt;h2 id="مواردی-که-حتما-باید-در-نظر-داشته-باشید">مواردی که حتما باید در نظر داشته باشید&lt;/h2>
&lt;h3 id="۱-بین-سرور-محلی-و-خارجی">۱. بین سرور محلی و خارجی&lt;/h3>
&lt;p>وقتی دو سرور محلی و خارجی دارید، و از تانلینگ بین این دو سرور استفاده میکنید، برای پورت(های) سرویس (های) سرور خارج، امکان ارتباط را فقط برای سرور محلی فراهم کنید.&lt;/p>
&lt;p>به عنوان مثال اگر سرور محلی شما با آدرس a.b.c.d در دسترس است، و با پورت های ۴۴۳و ۸۴۴۳ در حال سرویس دهی است، دستورات زیر را بکار ببرید:&lt;/p>
&lt;pre tabindex="0">&lt;code>iptables -A INPUT ! -s a.b.c.d -p tcp -m tcp --dport 443 -j DROP
iptables -A INPUT ! -s a.b.c.d -p tcp -m tcp --dport 8443 -j DROP
&lt;/code>&lt;/pre>&lt;p>اگر از netfilter-persistent استفاده میکنید، موراد را به شکل زیر را در فایل مربوطه ذخیره کنید:&lt;/p>
&lt;p>File: &lt;code>/etc/iptables/rules.v4&lt;/code>&lt;/p>
&lt;pre tabindex="0">&lt;code>*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
-A INPUT ! -s a.b.c.d -p tcp -m tcp --dport 443 -j DROP
-A INPUT ! -s a.b.c.d -p tcp -m tcp --dport 8443 -j DROP
COMMIT
&lt;/code>&lt;/pre>&lt;p>و سپس سرویس مربوطه را ریستارت کنید:&lt;/p>
&lt;pre tabindex="0">&lt;code>systemctl restart netfilter-persistent.service
&lt;/code>&lt;/pre>&lt;h3 id="۲-استفاده-از-تانل-reverse">۲. استفاده از تانل reverse&lt;/h3>
&lt;p>اگر سرور داخلی شما توسط ارتباط معکوس با سرور خارج تانل شده است (reverse) بهتر است هیچ سرویسی روی inbound در سرور خارج تعریف نشود و در صورت لزوم به داشتن آن، به سرور محلی محدود شود.&lt;/p>
&lt;h3 id="۳-ارتباط-مستقیم-از-یک-پروایدر">۳. ارتباط مستقیم از یک پروایدر&lt;/h3>
&lt;p>اگر همه استفاده کننده های سرور شما از یک منطقه جغرافیایی و فقط از طریق یک فراهم کننده خدمات اینترنتی سرویس میگیرند، بهتر است به کل محدوده IP های آن شرکت محدود شود.&lt;/p></description></item><item><title>Docs: فالبک</title><link>/fa/docs/security/fallback/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/fa/docs/security/fallback/</guid><description/></item></channel></rss>